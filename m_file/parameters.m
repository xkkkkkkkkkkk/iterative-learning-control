%% 机器人动力学参数 
% 连杆质量 (kg)
m = [372.27, 232.06, 202.83, 66.0035248, 0, 0]; 

% 连杆质心位置 (m) - 相对于连杆坐标系
% 3×6矩阵 [com_x1, com_x2, ...; com_y1, ...; com_z1, ...]
com = [0.0347521,  0.486870792, 0.163764236, 0, 0, 0;
       0.0079348, 0, -0.115, 0, 0,  0;
       -0.236716, -0.117636803,  0.141641296, -0.300590996, 0, 0]; 

% 连杆惯性张量 (kg·m²) 
%  6×6矩阵 [Ixx,Iyy,Izz,Ixy,Ixz,Iyz] 每行一个连杆
user_I = [9.4005009,  9.4005009, 9.4005009, 0, 0, 0;                      % 连杆1
            0, 0, 31.50357447, 0, 0, 0;                                     % 连杆2
            6.25921139178724, 58.47158264, 58.47158264, 0, 0, 0;            % 连杆3
            21.8165623219505, 3.59647086679311, 21.43499647496,0, 0, 0;     % 连杆4
            0, 0, 0,0, 0, 0;                                                % 连杆5
            0,0,0,0, 0, 0];                                                 % 连杆6

% 粘性摩擦系数 (N·m·s/rad)
Fv = [599.361145, 476.578278, 374.719635, 56.8351135, 126.935608, 126.084808]; 
% 静摩擦系数 [N·m]
fc = [323.836395, 632.690613, 451.073, 126.608192, 86.796814, 28.3622684];
% DH参数 
d = [0.33, 0.645, 0.115, 0, 0, 0];    % 关节偏移 (d1,d2,d3 + 末端)
a = [0,   0,   0,   1.15, 1.22, 0.215]; % 连杆长度 (L1,L2,L3)
alpha = [0, pi/2, 0, pi/2, -pi/2, 0]; % 典型连杆扭角
theta0 = zeros(1,6);              % 初始关节角度
% 电机转子惯量
motor_inertias = [0.00469, 0.0066, 0.0066, 0.0014, 0.0014, 0.0014];
% 重力向量
gravity = [0, 0, -9.81]; 
% user_I是6×6矩阵，每行对应一个连杆的6个独立分量
I = zeros(3,3,6);
for i = 1:6
    I(:,:,i) = [user_I(i,1), user_I(i,2), user_I(i,3);
               user_I(i,2), user_I(i,4), user_I(i,5);
               user_I(i,3), user_I(i,5), user_I(i,6)];
end